"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3406],{3406:(m,d,a)=>{a.r(d),a.d(d,{ShareYourThoughtsPageModule:()=>b});var s=a(4755),i=a(5030),r=a(5562),c=a(8695),u=a(655),f=a(7423),P=a(76);const _=(0,f.fo)("Camera",{web:()=>a.e(3954).then(a.bind(a,3954)).then(e=>new e.CameraWeb)});var x=a(4766),p=a(3730),t=a(2504),T=a(9477),S=a(227);function v(e,l){if(1&e&&(t.TgZ(0,"div",19),t._UZ(1,"img",20),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.s9C("src",o.targetFile,t.LSH)}}function C(e,l){1&e&&(t.TgZ(0,"label",21),t._uU(1,"Enter Post Details or select image"),t.qZA())}const M=[{path:"",component:(()=>{class e{constructor(o,n,g,h,y){this.api=o,this.router=n,this.other=g,this.actionSheetController=h,this.loadingCtrl=y,this.file=null,this.form={create_post_content:null,user_id:null,create_post_image:null,file_extension:null},this.profilePhoto=JSON.parse(localStorage.getItem("userData")).profile_image,this.mySub=null,this.environment=x.N,this.localStorage=localStorage,this.JSON=JSON}ngOnInit(){}addPost(){return(0,u.mG)(this,void 0,void 0,function*(){const o=yield this.loadingCtrl.create({message:"Loading..."});if(this.presentLoading(o),null!=this.form.create_post_content||null!=this.form.create_post_image){let n=new FormData;n.append("create_post_content",this.form.create_post_content),n.append("user_id","26"),n.append("create_post_image",this.form.create_post_image),n.append("file_extension",this.form.file_extension),this.api.dashboardAddPost(n).subscribe(g=>{o.dismiss(),this.other.presentToast("Post successful !!","checkmark-circle-outline","success"),history.back()},g=>{o.dismiss(),this.other.presentToast("Something went Wrong!!","information-circle-outline","danger")})}else o.dismiss(),this.other.presentToast("Something went Wrong!!","information-circle-outline","danger")})}presentLoading(o){return(0,u.mG)(this,void 0,void 0,function*(){return yield o.present()})}captureImage(){return(0,u.mG)(this,void 0,void 0,function*(){const o=yield _.getPhoto({quality:90,allowEditing:!0,resultType:P.dk.Base64});this.form.file_extension=o.format,this.form.create_post_image=o.base64String})}chooseImage(o){return(0,u.mG)(this,void 0,void 0,function*(){this.targetFile=yield p.g.toBase64(o.target.files[0]),this.form.create_post_image=o.target.files[0],this.form.file_extension=p.g.fileExtension(o.target.files[0])})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(T.s),t.Y36(c.F0),t.Y36(S.m),t.Y36(r.BX),t.Y36(r.HT))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-share-your-thoughts"]],decls:24,vars:6,consts:[[1,"new-background-color"],["slot","start",2,"color","#fff"],["slot","start"],[1,"title",2,"color","#fff"],[1,"btm_post"],[1,"frame__headline"],[1,"headline__image",3,"src"],[1,"frame__column"],[1,"headline__title"],[3,"ngSubmit"],["f","ngForm"],[1,"post_log"],["label","Input content here","labelPlacement","floating","fill","outline","placeholder","Enter text",3,"ngModel","rows","ngModelChange"],[1,"share_post_texttarea"],["type","file","accept","image/*",1,"form-control",3,"change"],["class","images_post",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"Post_file"],["type","submit"],[1,"images_post"],[3,"src"],[1,"text-danger"]],template:function(o,n){1&o&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),t._UZ(3,"ion-back-button",2),t.qZA(),t.TgZ(4,"ion-title",3),t._uU(5,"Share Your Thoughts"),t.qZA()()(),t.TgZ(6,"ion-content")(7,"div",4)(8,"div",5),t._UZ(9,"img",6),t.TgZ(10,"div",7)(11,"p",8),t._uU(12),t.qZA()()(),t.TgZ(13,"form",9,10),t.NdJ("ngSubmit",function(){return(n.form.create_post_content||n.form.create_post_image)&&n.addPost()}),t.TgZ(15,"div",11)(16,"ion-textarea",12),t.NdJ("ngModelChange",function(h){return n.form.create_post_content=h}),t.qZA(),t._UZ(17,"div",13),t.TgZ(18,"input",14),t.NdJ("change",function(h){return n.chooseImage(h)}),t.qZA(),t.YNc(19,v,2,1,"div",15),t.YNc(20,C,2,0,"label",16),t.qZA(),t.TgZ(21,"div",17)(22,"button",18),t._uU(23,"Post"),t.qZA()()()()()),2&o&&(t.xp6(9),t.s9C("src",n.environment.liveDomain+n.profilePhoto,t.LSH),t.xp6(3),t.hij(" ",n.JSON.parse(n.localStorage.getItem("userData")).name," "),t.xp6(4),t.Q6J("ngModel",n.form.create_post_content)("rows",5),t.xp6(3),t.Q6J("ngIf",n.targetFile),t.xp6(1),t.Q6J("ngIf",!n.form.create_post_content||!n.form.create_post_image))},dependencies:[s.O5,i._Y,i.JJ,i.JL,i.On,i.F,r.oU,r.Sm,r.W2,r.Gu,r.g2,r.wd,r.sr,r.j9,r.cs],styles:[".share_post_top[_ngcontent-%COMP%]{width:100%;float:left;box-shadow:#0000001a 0 0 5px,#0000001a 0 0 1px}.share_post_top[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:15px 5px;margin:0;font-size:16px}.frame__headline[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:flex-start;padding:12px 12px 0;margin-bottom:0}.headline__image[_ngcontent-%COMP%]{height:40px;width:40px;margin-right:8px;border-radius:50px}.frame__column[_ngcontent-%COMP%]{display:flex;flex-direction:column}.headline__title[_ngcontent-%COMP%]{color:#000;font-size:18px;font-weight:700;letter-spacing:-.24px;line-height:19.32px;word-wrap:break-word;margin:0 0 2px;padding:10px 0 0}.share_post_texttarea[_ngcontent-%COMP%]{width:100%;float:left;padding:0}ion-item[_ngcontent-%COMP%]{width:100%;float:left;border-radius:10px;background:#fff;box-shadow:#0000001a 0 0 5px,#0000001a 0 0 1px}.Post_file[_ngcontent-%COMP%]{width:100%;float:left;padding:10px}.Post_file[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 0;width:100%;background:#6ec5c3;color:#fff;font-size:16px;text-transform:uppercase;border-radius:50px}.images_post[_ngcontent-%COMP%]{width:100%;float:left;padding:40px;margin-top:16px;text-align:center;border:3px dotted #6ec5c3}.images_post[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px;text-align:center3}.post_log[_ngcontent-%COMP%]{width:100%;float:left;padding:10px}"]}),e})()}];let O=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.Bz.forChild(M),c.Bz]}),e})();var Y=a(4920);let b=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.ez,i.u5,r.Pc,O,Y.fi]}),e})()},76:(m,d,a)=>{a.d(d,{GW:()=>i,dk:()=>r,oK:()=>s});var s=(()=>((s=s||{}).Prompt="PROMPT",s.Camera="CAMERA",s.Photos="PHOTOS",s))(),i=(()=>((i=i||{}).Rear="REAR",i.Front="FRONT",i))(),r=(()=>((r=r||{}).Uri="uri",r.Base64="base64",r.DataUrl="dataUrl",r))()}}]);