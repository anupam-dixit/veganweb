"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8562],{8562:(v,C,n)=>{n.r(C),n.d(C,{ChatGroupCreatePageModule:()=>M});var d=n(4755),g=n(5030),r=n(5562),c=n(8695),m=n(655),s=n(4539),t=n(2504),a=n(9477),p=n(227);function f(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"ion-item")(1,"ion-label"),t._uU(2),t.qZA(),t.TgZ(3,"ion-checkbox",11,12),t.NdJ("ionChange",function(){const u=t.CHM(e).$implicit,T=t.MAs(4),A=t.oxw();return t.KtG(A.selectMember(u,T.checked))}),t.qZA()()}if(2&o){const e=l.$implicit;t.xp6(2),t.Oqu(null==e?null:e.name)}}const P=[{path:"",component:(()=>{class o{constructor(e,i,h,u){this.api=e,this.router=i,this.other=h,this.loadingCtrl=u,this.allUsers=null,this.selectedArray=[]}ngOnInit(){this.getChatUsers()}presentLoading(e){return(0,m.mG)(this,void 0,void 0,function*(){return yield e.present()})}getChatUsers(){return(0,m.mG)(this,void 0,void 0,function*(){const e=yield this.loadingCtrl.create({message:"Loading..."});this.presentLoading(e),this.api.getChatUsers({userId:JSON.parse(localStorage.getItem("userData")).id}).subscribe(i=>{this.allUsers=i.chatusers,e.dismiss()},i=>{e.dismiss(),this.other.presentToast("Something went Wrong!!","information-circle-outline","danger")})})}selectMember(e,i){if(1==i)this.selectedArray.push(null==e?void 0:e.id);else{let h=this.selectedArray.filter(function(u){return u!==e.id});this.selectedArray=h}console.log(this.selectedArray)}submit(){var e;return this.groupName?this.selectedArray.length<2?this.other.presentToast("At least two people required","information-circle-outline","warning"):void this.api.post(s.H.group.create,{userId:null===(e=JSON.parse(localStorage.getItem("userData")))||void 0===e?void 0:e.id,groupName:this.groupName,groupMember:this.selectedArray.join(",")}).subscribe(i=>{this.other.presentToast(i.msg,"information-circle-outline","success"),this.router.navigateByUrl("/chat-list")}):this.other.presentToast("Provide group name","information-circle-outline","warning")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.s),t.Y36(c.F0),t.Y36(p.m),t.Y36(r.HT))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-chat-group-create"]],decls:17,vars:2,consts:[[1,"new-background-color"],["slot","start",2,"color","#fff"],["slot","start","size","small",1,"title",2,"color","#fff","margin-left","10px"],["content",""],[1,"row"],[1,"col","p-4"],["type","text","placeholder","Enter here","label","Group Name",3,"ngModel","ngModelChange"],[1,"col"],[4,"ngFor","ngForOf"],[1,"col","p-4","ion-text-right"],["color","primary",3,"click"],["color","dark",3,"ionChange"],["sel",""]],template:function(e,i){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0),t._UZ(2,"ion-back-button",1),t.TgZ(3,"ion-title",2),t._uU(4," Create ChatGroup "),t.qZA()()(),t.TgZ(5,"ion-content",null,3)(7,"div",4)(8,"div",5)(9,"ion-input",6),t.NdJ("ngModelChange",function(u){return i.groupName=u}),t.qZA()()(),t.TgZ(10,"div",4)(11,"div",7),t.YNc(12,f,5,1,"ion-item",8),t.qZA()(),t.TgZ(13,"div",4)(14,"div",9)(15,"ion-button",10),t.NdJ("click",function(){return i.submit()}),t._uU(16,"Submit"),t.qZA()()()()),2&e&&(t.xp6(9),t.Q6J("ngModel",i.groupName),t.xp6(3),t.Q6J("ngForOf",i.allUsers))},dependencies:[d.sg,g.JJ,g.On,r.oU,r.YG,r.nz,r.W2,r.Gu,r.pK,r.Ie,r.Q$,r.wd,r.sr,r.w,r.j9,r.cs]}),o})()}];let y=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.Bz.forChild(P),c.Bz]}),o})(),M=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.ez,g.u5,r.Pc,y]}),o})()},227:(v,C,n)=>{n.d(C,{m:()=>m});var d=n(655),g=n(7579),r=n(2504),c=n(5562);let m=(()=>{class s{constructor(a,p){this.toastController=a,this.loadingCtrl=p,this.nCount=new g.x,this.notificationCount=this.nCount.asObservable()}presentToast(a,p,f){return(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.toastController.create({message:a,duration:2500,icon:p,color:f})).present()})}showLoading(a){return(0,d.mG)(this,void 0,void 0,function*(){return yield this.loadingCtrl.create({message:a})})}setnotificationCount(a){this.nCount.next(a)}}return s.\u0275fac=function(a){return new(a||s)(r.LFG(c.yF),r.LFG(c.HT))},s.\u0275prov=r.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()}}]);