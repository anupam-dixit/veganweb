"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8179],{8179:(_,d,t)=>{t.r(d),t.d(d,{MySubscriptionPageModule:()=>S});var a=t(4755),v=t(5030),u=t(5562),g=t(8695),b=t(655),c=t(3730),h=t(4539),r=t(6191),i=t(2504),Z=t(9477),f=t(227);function y(o,e){1&o&&i._UZ(0,"ion-icon",22)}function T(o,e){if(1&o&&(i.TgZ(0,"div",12)(1,"div",13)(2,"ion-grid")(3,"ion-row")(4,"ion-col",18),i._uU(5,"Purchased On"),i.qZA(),i.TgZ(6,"ion-col"),i._uU(7),i.qZA()(),i.TgZ(8,"ion-row")(9,"ion-col",18),i._uU(10,"Expiring On"),i.qZA(),i.TgZ(11,"ion-col",19),i._uU(12),i.qZA()(),i.TgZ(13,"ion-row")(14,"ion-col",18),i._uU(15,"Price"),i.qZA(),i.TgZ(16,"ion-col",19)(17,"span",20),i._uU(18),i.qZA(),i.YNc(19,y,1,0,"ion-icon",21),i.qZA()(),i.TgZ(20,"ion-row")(21,"ion-col",18),i._uU(22,"Payment ID"),i.qZA(),i.TgZ(23,"ion-col"),i._uU(24),i.qZA()()()()()),2&o){const n=i.oxw();i.xp6(7),i.Oqu(null==n.subscription||null==n.subscription.purchase?null:n.subscription.purchase.created_at),i.xp6(5),i.Oqu(null==n.subscription||null==n.subscription.purchase?null:n.subscription.purchase.expire_at),i.xp6(6),i.hij("",null==n.subscription||null==n.subscription.purchase?null:n.subscription.purchase.amount_paid," "),i.xp6(1),i.Q6J("ngIf","paid"==(null==n.subscription||null==n.subscription.purchase?null:n.subscription.purchase.status)),i.xp6(5),i.hij("",null==n.subscription||null==n.subscription.purchase?null:n.subscription.purchase.payment_id," ")}}function A(o,e){if(1&o&&(i.TgZ(0,"div",26)(1,"div",8)(2,"div",27),i._UZ(3,"img",28),i.qZA(),i.TgZ(4,"div",29)(5,"h5"),i._uU(6),i.qZA(),i.TgZ(7,"h5"),i._uU(8),i.qZA()(),i.TgZ(9,"div",30)(10,"ul")(11,"li")(12,"strong"),i._uU(13,"Blogs : "),i.qZA(),i._uU(14),i.qZA(),i.TgZ(15,"li")(16,"strong"),i._uU(17,"Posts : "),i.qZA(),i._uU(18),i.qZA(),i.TgZ(19,"li")(20,"strong"),i._uU(21,"Recipe : "),i.qZA(),i._uU(22),i.qZA()()()()()),2&o){const n=i.oxw().$implicit,s=i.oxw();let p,l,m;i.xp6(3),i.Q6J("src",null==n?null:n.icon,i.LSH),i.xp6(3),i.Oqu(n.title),i.xp6(2),i.hij("",n.price,"/ month."),i.xp6(6),i.Oqu(null==(p=s.JSON.parse(n.data))?null:p.blog),i.xp6(4),i.Oqu(null==(l=s.JSON.parse(n.data))?null:l.post),i.xp6(4),i.Oqu(null==(m=s.JSON.parse(n.data))?null:m.recipe)}}function U(o,e){if(1&o){const n=i.EpF();i.TgZ(0,"div",23)(1,"a",24),i.NdJ("click",function(){const l=i.CHM(n).$implicit,m=i.oxw();return i.KtG(m.getLink(null==l?null:l.id))}),i.YNc(2,A,23,6,"div",25),i.qZA()()}if(2&o){const n=e.$implicit,s=i.oxw();i.xp6(2),i.Q6J("ngIf",s.parseInt(n.price)>s.parseInt(null==s.subscription||null==s.subscription.subscription?null:s.subscription.subscription.price))}}const M=[{path:"",component:(()=>{class o{constructor(n,s,p){this.api=n,this.loadingCtrl=s,this.other=p,this.JSON=JSON,this.Env=r.X,this.myLib=c.g,this.parseInt=parseInt}ngOnInit(){let n={user_id:c.g.auth.get().id};this.api.getMySubscription(n).subscribe(s=>{this.subscription=s}),this.api.post(h.H.subscriptions.listAll,{}).subscribe(s=>{this.allSubscriptions=s})}getLink(n){var s;return(0,b.mG)(this,void 0,void 0,function*(){const p=yield this.loadingCtrl.create({message:"Loading..."});this.presentLoading(p),this.api.post(h.H.subscriptions.getPurchaseLink,{subscription_id:n,user_id:null===(s=c.g.auth.get())||void 0===s?void 0:s.id}).subscribe(l=>{this.other.presentToast(null==l?void 0:l.message,"information-circle-outline",null!=l&&l.status?"success":"danger"),p.dismiss()})})}presentLoading(n){return(0,b.mG)(this,void 0,void 0,function*(){return yield n.present()})}}return o.\u0275fac=function(n){return new(n||o)(i.Y36(Z.s),i.Y36(u.HT),i.Y36(f.m))},o.\u0275cmp=i.Xpm({type:o,selectors:[["app-my-subscription"]],decls:44,vars:19,consts:[[1,"new-background-color"],[1,"title",2,"color","#fff"],["slot","end"],["color","sec","routerLink","/search-result"],["src","/assets/icon/search.png",2,"width","22px"],["color","sec","routerLink","/chat-list"],["src","/assets/icon/chat.png",2,"width","24px"],[1,"ion-text-center"],[1,"row"],[1,"col","ion-text-center"],[1,"img-fluid",3,"src"],["class","row mt-3",4,"ngIf"],[1,"row","mt-3"],[1,"col"],[1,"card"],[1,"card-header"],[1,"card-body"],["class","col-12 col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-4",4,"ngFor","ngForOf"],["size","4",1,"border-right"],[1,"text-warning"],[1,"badge","badge-primary"],["name","checkmark-circle-outline","class","text-success",4,"ngIf"],["name","checkmark-circle-outline",1,"text-success"],[1,"col-12","col-xs-12","col-sm-12","col-md-6","col-lg-4","col-xl-4"],[3,"click"],["class","card mb-3",4,"ngIf"],[1,"card","mb-3"],[1,"col-3"],[1,"img-fluid","p-2",3,"src"],[1,"col-4"],[1,"col-5"]],template:function(n,s){1&n&&(i.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),i._uU(3,"My Subscription"),i.qZA(),i.TgZ(4,"ion-buttons",2)(5,"ion-button",3),i._UZ(6,"img",4),i.qZA(),i.TgZ(7,"ion-button",5),i._UZ(8,"img",6),i.qZA()()()(),i.TgZ(9,"ion-content")(10,"section")(11,"h2",7),i._uU(12),i.qZA(),i.TgZ(13,"div",8)(14,"div",9),i._UZ(15,"img",10),i.qZA()(),i.YNc(16,T,25,5,"div",11),i.TgZ(17,"div",12)(18,"div",13)(19,"div",14)(20,"div",15),i._uU(21,"Limits"),i.qZA(),i.TgZ(22,"div",16)(23,"ul")(24,"li")(25,"strong"),i._uU(26,"Blogs : "),i.qZA(),i._uU(27),i.TgZ(28,"span"),i._uU(29),i.qZA()(),i.TgZ(30,"li")(31,"strong"),i._uU(32,"Posts : "),i.qZA(),i._uU(33),i.TgZ(34,"span"),i._uU(35),i.qZA()(),i.TgZ(36,"li")(37,"strong"),i._uU(38,"Recipe : "),i.qZA(),i._uU(39),i.TgZ(40,"span"),i._uU(41),i.qZA()()()()()()(),i.TgZ(42,"div",12),i.YNc(43,U,3,1,"div",17),i.qZA()()()),2&n&&(i.xp6(12),i.hij("",null==s.subscription?null:s.subscription.subscription.title," Membership"),i.xp6(3),i.Q6J("src",null==s.subscription?null:s.subscription.subscription.icon,i.LSH),i.xp6(1),i.Q6J("ngIf",null==s.subscription||null==s.subscription.purchase?null:s.subscription.purchase.status),i.xp6(11),i.hij("",null==s.subscription||null==s.subscription.subscription?null:s.subscription.subscription.data.blog," "),i.xp6(1),i.Gre("badge badge-",s.parseInt(null==s.subscription||null==s.subscription.subscription?null:s.subscription.subscription.data.blog)>s.parseInt(null==s.subscription||null==s.subscription.usage?null:s.subscription.usage.blog)?"secondary":"danger",""),i.xp6(1),i.hij("",null==s.subscription||null==s.subscription.usage?null:s.subscription.usage.blog," Posted"),i.xp6(4),i.hij("",null==s.subscription||null==s.subscription.subscription?null:s.subscription.subscription.data.post," "),i.xp6(1),i.Gre("badge badge-",s.parseInt(null==s.subscription||null==s.subscription.subscription?null:s.subscription.subscription.data.post)>s.parseInt(null==s.subscription||null==s.subscription.usage?null:s.subscription.usage.post)?"secondary":"danger",""),i.xp6(1),i.hij("",null==s.subscription||null==s.subscription.usage?null:s.subscription.usage.post," Posted"),i.xp6(4),i.hij("",null==s.subscription||null==s.subscription.subscription?null:s.subscription.subscription.data.recipe," "),i.xp6(1),i.Gre("badge badge-",s.parseInt(null==s.subscription||null==s.subscription.subscription?null:s.subscription.subscription.data.recipe)>s.parseInt(null==s.subscription||null==s.subscription.usage?null:s.subscription.usage.recipe)?"secondary":"danger",""),i.xp6(1),i.hij("",null==s.subscription||null==s.subscription.usage?null:s.subscription.usage.recipe," Posted"),i.xp6(2),i.Q6J("ngForOf",s.allSubscriptions))},dependencies:[a.sg,a.O5,u.YG,u.Sm,u.wI,u.W2,u.jY,u.Gu,u.gu,u.Nd,u.wd,u.sr,u.YI,g.rH]}),o})()}];let P=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=i.oAB({type:o}),o.\u0275inj=i.cJS({imports:[g.Bz.forChild(M),g.Bz]}),o})(),S=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=i.oAB({type:o}),o.\u0275inj=i.cJS({imports:[a.ez,v.u5,u.Pc,P]}),o})()},227:(_,d,t)=>{t.d(d,{m:()=>b});var a=t(655),v=t(7579),u=t(2504),g=t(5562);let b=(()=>{class c{constructor(r,i){this.toastController=r,this.loadingCtrl=i,this.nCount=new v.x,this.notificationCount=this.nCount.asObservable()}presentToast(r,i,Z){return(0,a.mG)(this,void 0,void 0,function*(){yield(yield this.toastController.create({message:r,duration:2500,icon:i,color:Z})).present()})}showLoading(r){return(0,a.mG)(this,void 0,void 0,function*(){return yield this.loadingCtrl.create({message:r})})}setnotificationCount(r){this.nCount.next(r)}}return c.\u0275fac=function(r){return new(r||c)(u.LFG(g.yF),u.LFG(g.HT))},c.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()}}]);