"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3546],{3546:(G,b,g)=>{g.r(b),g.d(b,{AddBlogPageModule:()=>S});var f=g(4755),u=g(5030),d=g(5562),_=g(8695),m=g(655),e=g(2504),A=g(70),x=g(3323),v=g(9477),Z=g(227),T=g(4920);function M(o,r){1&o&&(e.TgZ(0,"label",37),e._uU(1,"Enter Title"),e.qZA())}function P(o,r){1&o&&(e.TgZ(0,"label",37),e._uU(1,"Enter Category"),e.qZA())}function C(o,r){1&o&&(e.TgZ(0,"label",37),e._uU(1,"Enter Tags"),e.qZA())}function y(o,r){1&o&&(e.TgZ(0,"label",37),e._uU(1,"Enter Location"),e.qZA())}function B(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"img",38),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.chooseImage())}),e.qZA()}if(2&o){const t=e.oxw();e.s9C("src",t.form.image,e.LSH)}}function q(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ion-badge",39),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.form.image=null)}),e._UZ(1,"ion-icon",40),e.qZA()}}function I(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.chooseImage())}),e._uU(1,"Choose Image"),e.qZA()}}function J(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div"),e._UZ(1,"img",41),e.TgZ(2,"ion-badge",39),e.NdJ("click",function(){const l=e.CHM(t).index,a=e.oxw();return e.KtG(a.removeImage(l))}),e._UZ(3,"ion-icon",40),e.qZA()()}if(2&o){const t=r.$implicit;e.xp6(1),e.s9C("src",t,e.LSH)}}function U(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"video",38),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.chooseVideo())}),e.qZA()}if(2&o){const t=e.oxw();e.s9C("src",t.form.videofile,e.LSH)}}function O(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ion-badge",39),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.form.videofile=null)}),e._UZ(1,"ion-icon",40),e.qZA()}}function k(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.chooseVideo())}),e._uU(1,"Choose Video"),e.qZA()}}function N(o,r){1&o&&(e.TgZ(0,"label",37),e._uU(1,"Enter Detail"),e.qZA())}const w=[{path:"",component:(()=>{class o{constructor(t,n,i,l,a,c){this.camera=t,this.file=n,this.api=i,this.router=l,this.other=a,this.loadingCtrl=c,this.form={post_category_id:"",title:null,tags:null,location:null,detail:null,user_id:null,image:null,galleryimage:[],videofile:null}}ngOnInit(){}presentLoading(t){return(0,m.mG)(this,void 0,void 0,function*(){return yield t.present()})}AddBlog(){var t;return(0,m.mG)(this,void 0,void 0,function*(){const n=yield this.loadingCtrl.create({message:"Loading..."});this.presentLoading(n),this.form.user_id=null===(t=JSON.parse(localStorage.getItem("userData")))||void 0===t?void 0:t.id,this.api.addBlog(this.form).subscribe(i=>{n.dismiss(),this.other.presentToast(i.message,"checkmark-circle-outline","success"),history.back()},i=>{n.dismiss(),this.other.presentToast("Something went Wrong!!","information-circle-outline","danger")})})}chooseImage(){return(0,m.mG)(this,void 0,void 0,function*(){console.log("hi"),this.captureImage(this.camera.PictureSourceType.SAVEDPHOTOALBUM,t=>(0,m.mG)(this,void 0,void 0,function*(){this.form.image=t.imagedata}))})}removeImage(t){this.form.galleryimage.splice(t,1),console.log(this.form.galleryimage)}chooseMultiImage(){return(0,m.mG)(this,void 0,void 0,function*(){this.captureImage(this.camera.PictureSourceType.SAVEDPHOTOALBUM,t=>(0,m.mG)(this,void 0,void 0,function*(){this.form.galleryimage.push(t.imagedata)}))})}captureImage(t,n){this.camera.getPicture({quality:90,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,sourceType:t,allowEdit:!1,correctOrientation:!0}).then(l=>{let c,a=`data:image/jpeg;base64,${l}`;console.log(a),t==this.camera.PictureSourceType.CAMERA?(c={isCamera:!0,imagedata:a},n(c)):(c={isCamera:!1,imagedata:a},n(c))},l=>{})}chooseVideo(){return(0,m.mG)(this,void 0,void 0,function*(){this.captureVideo(this.camera.PictureSourceType.PHOTOLIBRARY,t=>(0,m.mG)(this,void 0,void 0,function*(){this.form.videofile=t.imagedata.nativeURL}))})}captureVideo(t,n){this.camera.getPicture({quality:90,destinationType:this.camera.DestinationType.DATA_URL,mediaType:this.camera.MediaType.VIDEO,sourceType:t}).then(l=>(0,m.mG)(this,void 0,void 0,function*(){let a;var c=l.substr(l.lastIndexOf("/")+1),s=l.substr(0,l.lastIndexOf("/")+1);s=s.includes("file://")?s:"file://"+s;try{var p=yield this.file.resolveDirectoryUrl(s),h=yield this.file.getFile(p,c,{})}catch(Y){console.log("error",Y)}console.log(l,c,s,h),t==this.camera.PictureSourceType.CAMERA?(a={isCamera:!0,imagedata:h},n(a)):(a={isCamera:!1,imagedata:h},n(a))}),l=>{})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(A.V1),e.Y36(x.$),e.Y36(v.s),e.Y36(_.F0),e.Y36(Z.m),e.Y36(d.HT))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-blog"]],decls:80,vars:18,consts:[[1,"new-background-color"],["slot","start"],["slot","start",2,"color","#fff"],[1,"title",2,"color","#fff"],["slot","end"],["color","sec","routerLink","/search-result"],["src","/assets/icon/search.png",2,"width","22px"],["color","sec","routerLink","/chat-list"],["src","/assets/icon/chat.png",2,"width","24px"],["color","sec","routerLink","/notifications"],["src","/assets/icon/bell.png",2,"width","24px"],[1,"setbegde"],[3,"ngSubmit"],["f","ngForm"],[1,"form"],[1,"form-group"],["type","text","id","title","name","title","placeholder","Title","required","",1,"form_control_event",3,"ngModel","ngModelChange"],["title","ngModel"],["class","text-danger",4,"ngIf"],["expand","full","placeholder","Select Category","interface","popover","name","post_category_id","required","",1,"form_control_event","form-select","form-select-lg",3,"ngModel","ngModelChange"],["post_category_id","ngModel"],["value","2"],["value","1"],["value","0"],["type","text","id","tags","name","tags","placeholder","Tags","required","",1,"form_control_event",3,"ngModel","ngModelChange"],["tags","ngModel"],["type","text","id","location","name","location","placeholder","Location","required","",1,"form_control_event","pac-target-input",3,"ngModel","ngModelChange"],["location","ngModel"],["class","image",3,"src","click",4,"ngIf"],[3,"click",4,"ngIf"],["class","choose_image",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"choose_image",3,"click"],["name","detail","data","",3,"required","ngModel","ngModelChange"],["detail","ngModel"],[1,"save_changes"],["type","submit"],[1,"text-danger"],[1,"image",3,"src","click"],[3,"click"],["name","close-circle-outline"],[1,"image",3,"src"]],template:function(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-back-button",2),e.qZA(),e.TgZ(4,"ion-title",3),e._uU(5,"Add Blog"),e.qZA(),e.TgZ(6,"ion-buttons",4)(7,"ion-button",5),e._UZ(8,"img",6),e.qZA(),e.TgZ(9,"ion-button",7),e._UZ(10,"img",8),e.qZA(),e.TgZ(11,"ion-button",9),e._UZ(12,"img",10),e.TgZ(13,"ion-badge",11),e._uU(14,"10"),e.qZA()()()()(),e.TgZ(15,"ion-content")(16,"form",12,13),e.NdJ("ngSubmit",function(){e.CHM(i);const a=e.MAs(17);return e.KtG(a.form.valid&&n.AddBlog())}),e.TgZ(18,"div",14)(19,"div",15)(20,"label"),e._uU(21,"Title"),e.qZA(),e.TgZ(22,"ion-input",16,17),e.NdJ("ngModelChange",function(a){return n.form.title=a}),e.qZA(),e.YNc(24,M,2,0,"label",18),e.qZA(),e.TgZ(25,"div",15)(26,"label"),e._uU(27,"Category"),e.qZA(),e.TgZ(28,"ion-select",19,20),e.NdJ("ngModelChange",function(a){return n.form.post_category_id=a}),e.TgZ(30,"ion-select-option",21),e._uU(31,"Moose"),e.qZA(),e.TgZ(32,"ion-select-option",22),e._uU(33,"Salad"),e.qZA(),e.TgZ(34,"ion-select-option",23),e._uU(35,"Others"),e.qZA()(),e.YNc(36,P,2,0,"label",18),e.qZA(),e.TgZ(37,"div",15)(38,"label"),e._uU(39,"Tags"),e.qZA(),e.TgZ(40,"ion-input",24,25),e.NdJ("ngModelChange",function(a){return n.form.tags=a}),e.qZA(),e.YNc(42,C,2,0,"label",18),e.qZA(),e.TgZ(43,"div",15)(44,"label"),e._uU(45,"Location"),e.qZA(),e.TgZ(46,"ion-input",26,27),e.NdJ("ngModelChange",function(a){return n.form.location=a}),e.qZA(),e.YNc(48,y,2,0,"label",18),e.qZA(),e.TgZ(49,"div",15)(50,"label"),e._uU(51,"Image"),e.qZA(),e._UZ(52,"br"),e.YNc(53,B,1,1,"img",28),e.YNc(54,q,2,0,"ion-badge",29),e.YNc(55,I,2,0,"button",30),e.qZA(),e.TgZ(56,"div",15)(57,"label"),e._uU(58,"Add Gallery Image"),e.qZA(),e._UZ(59,"br"),e.YNc(60,J,4,1,"div",31),e.TgZ(61,"button",32),e.NdJ("click",function(){return n.chooseMultiImage()}),e._uU(62,"Choose Image"),e.qZA()(),e.TgZ(63,"div",15)(64,"label"),e._uU(65,"Video"),e.qZA(),e._UZ(66,"br"),e.YNc(67,U,1,1,"video",28),e.YNc(68,O,2,0,"ion-badge",29),e.YNc(69,k,2,0,"button",30),e.qZA(),e.TgZ(70,"div",15)(71,"label"),e._uU(72,"Details"),e.qZA()(),e.TgZ(73,"div",15)(74,"quill-editor",33,34),e.NdJ("ngModelChange",function(a){return n.form.detail=a}),e.qZA(),e.YNc(76,N,2,0,"label",18),e.qZA(),e.TgZ(77,"div",35)(78,"button",36),e._uU(79,"Save Changes"),e.qZA()()()()()}if(2&t){const i=e.MAs(17),l=e.MAs(23),a=e.MAs(29),c=e.MAs(41),s=e.MAs(47),p=e.MAs(75);e.xp6(22),e.Q6J("ngModel",n.form.title),e.xp6(2),e.Q6J("ngIf",!i.submitted&&!l.untouched&&l.invalid||i.submitted&&l.invalid),e.xp6(4),e.Q6J("ngModel",n.form.post_category_id),e.xp6(8),e.Q6J("ngIf",!i.submitted&&!a.untouched&&a.invalid||i.submitted&&a.invalid),e.xp6(4),e.Q6J("ngModel",n.form.tags),e.xp6(2),e.Q6J("ngIf",!i.submitted&&!c.untouched&&c.invalid||i.submitted&&c.invalid),e.xp6(4),e.Q6J("ngModel",n.form.location),e.xp6(2),e.Q6J("ngIf",!i.submitted&&!s.untouched&&s.invalid||i.submitted&&s.invalid),e.xp6(5),e.Q6J("ngIf",n.form.image),e.xp6(1),e.Q6J("ngIf",n.form.image),e.xp6(1),e.Q6J("ngIf",!n.form.image),e.xp6(5),e.Q6J("ngForOf",n.form.galleryimage),e.xp6(7),e.Q6J("ngIf",n.form.videofile),e.xp6(1),e.Q6J("ngIf",n.form.videofile),e.xp6(1),e.Q6J("ngIf",!n.form.videofile),e.xp6(5),e.Q6J("required",!0)("ngModel",n.form.detail),e.xp6(2),e.Q6J("ngIf",!i.submitted&&!p.untouched&&p.invalid||i.submitted&&p.invalid)}},dependencies:[f.sg,f.O5,u._Y,u.JJ,u.JL,u.Q7,u.On,u.F,d.oU,d.yp,d.YG,d.Sm,d.W2,d.Gu,d.gu,d.pK,d.t9,d.n0,d.wd,d.sr,d.QI,d.j9,d.cs,d.YI,_.rH,T.g6],styles:[".form[_ngcontent-%COMP%]{width:100%;float:left;padding:20px 10px}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.model_add_event[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{float:left;padding:10px 0;margin:0;font-size:15px}.choose_image[_ngcontent-%COMP%]{background:none;margin-top:10px;width:100%!important;padding:0 10px!important;font-size:16px!important;font-weight:400!important;line-height:20px!important;color:#212529!important;background-color:#fff!important;background-clip:padding-box!important;border:1px solid #ced4da!important;border-radius:4px!important;box-shadow:#0000001a 0 0 5px,#0000001a 0 0 1px;height:36px;float:left;text-align:left}.image[_ngcontent-%COMP%]{height:100px;width:100px;margin:10px}ion-badge[_ngcontent-%COMP%]{position:absolute;left:110px;background:#fff;border-radius:50px;color:red;padding:0;font-size:23px}.form_control_event[_ngcontent-%COMP%]{margin-top:10px;width:100%!important;padding:0 10px!important;font-size:16px!important;font-weight:400!important;line-height:20px!important;color:#212529!important;background-color:#fff!important;background-clip:padding-box!important;border:1px solid #ced4da!important;border-radius:4px!important;box-shadow:#0000001a 0 0 5px,#0000001a 0 0 1px;min-height:36px}input[type=text][_ngcontent-%COMP%]{font-size:14px!important;font-weight:400!important;width:100%;height:36px}.textarea_event[_ngcontent-%COMP%]{width:100%!important;font-size:16px!important;font-weight:400!important;line-height:20px!important;color:#212529!important;background-color:#fff!important;background-clip:padding-box!important;border:1px solid #ced4da!important;border-radius:4px!important;box-shadow:#0000001a 0 0 5px,#0000001a 0 0 1px;padding:7px 10px!important}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:0 0 8px}.save_changes[_ngcontent-%COMP%]{width:100%;float:left;text-align:center;margin:auto}.save_changes[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#70cac8;border-radius:6px;height:36px;width:auto;text-align:right;color:#fff;padding:0 24px;margin:5px 4px 4px;float:right}.close_event[_ngcontent-%COMP%]{background-color:red!important}"]}),o})()}];let E=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[_.Bz.forChild(w),_.Bz]}),o})(),S=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[A.V1,x.$],imports:[f.ez,u.u5,d.Pc,E,T.fi]}),o})()}}]);