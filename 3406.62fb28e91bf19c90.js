"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3406],{3406:(p,h,a)=>{a.r(h),a.d(h,{ShareYourThoughtsPageModule:()=>b});var s=a(4755),i=a(5030),r=a(5562),u=a(8695),d=a(655),f=a(7423),_=a(76);const P=(0,f.fo)("Camera",{web:()=>a.e(3954).then(a.bind(a,3954)).then(e=>new e.CameraWeb)});var S=a(4766),t=a(2504),T=a(9477),x=a(227),m=a(4920);function v(e,g){if(1&e&&t._UZ(0,"img",21),2&e){const o=t.oxw();t.MGl("src","data:image/png;base64,",o.form.create_post_image,"",t.LSH)}}function C(e,g){1&e&&t._UZ(0,"img",22)}function M(e,g){1&e&&(t.TgZ(0,"label",23),t._uU(1,"Enter Post Details or select image"),t.qZA())}const O=[{path:"",component:(()=>{class e{constructor(o,n,l,c,Z){this.api=o,this.router=n,this.other=l,this.actionSheetController=c,this.loadingCtrl=Z,this.file=null,this.form={create_post_content:null,user_id:null,create_post_image:null,file_extension:null},this.profilePhoto=JSON.parse(localStorage.getItem("userData")).profile_image,this.mySub=null,this.environment=S.N,this.localStorage=localStorage,this.JSON=JSON}ngOnInit(){}addPost(){var o;return(0,d.mG)(this,void 0,void 0,function*(){const n=yield this.loadingCtrl.create({message:"Loading..."});this.presentLoading(n),null!=this.form.create_post_content||null!=this.form.create_post_image?(this.form.user_id=null===(o=JSON.parse(localStorage.getItem("userData")))||void 0===o?void 0:o.id,this.api.dashboardAddPost(this.form).subscribe(l=>{n.dismiss(),this.other.presentToast("Post successful !!","checkmark-circle-outline","success"),history.back()},l=>{n.dismiss(),this.other.presentToast("Something went Wrong!!","information-circle-outline","danger")})):(n.dismiss(),this.other.presentToast("Something went Wrong!!","information-circle-outline","danger"))})}presentLoading(o){return(0,d.mG)(this,void 0,void 0,function*(){return yield o.present()})}captureImage(){return(0,d.mG)(this,void 0,void 0,function*(){const o=yield P.getPhoto({quality:90,allowEditing:!0,resultType:_.dk.Base64});this.form.file_extension=o.format,this.form.create_post_image=o.base64String})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(T.s),t.Y36(u.F0),t.Y36(x.m),t.Y36(r.BX),t.Y36(r.HT))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-share-your-thoughts"]],decls:26,vars:6,consts:[[1,"new-background-color"],["slot","start",2,"color","#fff"],["slot","start"],[1,"title",2,"color","#fff"],[1,"btm_post"],[1,"frame__headline"],[1,"headline__image",3,"src"],[1,"frame__column"],[1,"headline__title"],[3,"ngSubmit"],["f","ngForm"],[1,"post_log"],[1,"share_post_texttarea"],["name","create_post_content",3,"ngModel","ngModelChange"],["create_post_content","ngModel"],[1,"images_post",3,"click"],[3,"src",4,"ngIf"],["src","/assets/icon/upload_images.png",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"Post_file"],["type","submit"],[3,"src"],["src","/assets/icon/upload_images.png"],[1,"text-danger"]],template:function(o,n){1&o&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),t._UZ(3,"ion-back-button",2),t.qZA(),t.TgZ(4,"ion-title",3),t._uU(5,"Share Your Thoughts"),t.qZA()()(),t.TgZ(6,"ion-content")(7,"div",4)(8,"div",5),t._UZ(9,"img",6),t.TgZ(10,"div",7)(11,"p",8),t._uU(12),t.qZA()()(),t.TgZ(13,"form",9,10),t.NdJ("ngSubmit",function(){return(n.form.create_post_content||n.form.create_post_image)&&n.addPost()}),t.TgZ(15,"div",11)(16,"div",12)(17,"quill-editor",13,14),t.NdJ("ngModelChange",function(c){return n.form.create_post_content=c}),t.qZA()(),t.TgZ(19,"div",15),t.NdJ("click",function(){return n.captureImage()}),t.YNc(20,v,1,1,"img",16),t.YNc(21,C,1,0,"img",17),t.qZA(),t.YNc(22,M,2,0,"label",18),t.qZA(),t.TgZ(23,"div",19)(24,"button",20),t._uU(25,"Post"),t.qZA()()()()()),2&o&&(t.xp6(9),t.s9C("src",n.environment.liveDomain+n.profilePhoto,t.LSH),t.xp6(3),t.hij(" ",n.JSON.parse(n.localStorage.getItem("userData")).name," "),t.xp6(5),t.Q6J("ngModel",n.form.create_post_content),t.xp6(3),t.Q6J("ngIf",n.form.create_post_image),t.xp6(1),t.Q6J("ngIf",!n.form.create_post_image),t.xp6(1),t.Q6J("ngIf",!n.form.create_post_content||!n.form.create_post_image))},dependencies:[s.O5,i._Y,i.JJ,i.JL,i.On,i.F,r.oU,r.Sm,r.W2,r.Gu,r.wd,r.sr,r.cs,m.g6],styles:[".share_post_top[_ngcontent-%COMP%]{width:100%;float:left;box-shadow:#0000001a 0 0 5px,#0000001a 0 0 1px}.share_post_top[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:15px 5px;margin:0;font-size:16px}.frame__headline[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:flex-start;padding:12px 12px 0;margin-bottom:0}.headline__image[_ngcontent-%COMP%]{height:40px;width:40px;margin-right:8px;border-radius:50px}.frame__column[_ngcontent-%COMP%]{display:flex;flex-direction:column}.headline__title[_ngcontent-%COMP%]{color:#000;font-size:18px;font-weight:700;letter-spacing:-.24px;line-height:19.32px;word-wrap:break-word;margin:0 0 2px;padding:10px 0 0}.share_post_texttarea[_ngcontent-%COMP%]{width:100%;float:left;padding:0}ion-item[_ngcontent-%COMP%]{width:100%;float:left;border-radius:10px;background:#fff;box-shadow:#0000001a 0 0 5px,#0000001a 0 0 1px}.Post_file[_ngcontent-%COMP%]{width:100%;float:left;padding:10px}.Post_file[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 0;width:100%;background:#6ec5c3;color:#fff;font-size:16px;text-transform:uppercase;border-radius:50px}.images_post[_ngcontent-%COMP%]{width:100%;float:left;padding:40px;margin-top:16px;text-align:center;border:3px dotted #6ec5c3}.images_post[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px;text-align:center3}.post_log[_ngcontent-%COMP%]{width:100%;float:left;padding:10px}"]}),e})()}];let Y=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.Bz.forChild(O),u.Bz]}),e})(),b=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.ez,i.u5,r.Pc,Y,m.fi]}),e})()},76:(p,h,a)=>{a.d(h,{GW:()=>i,dk:()=>r,oK:()=>s});var s=(()=>((s=s||{}).Prompt="PROMPT",s.Camera="CAMERA",s.Photos="PHOTOS",s))(),i=(()=>((i=i||{}).Rear="REAR",i.Front="FRONT",i))(),r=(()=>((r=r||{}).Uri="uri",r.Base64="base64",r.DataUrl="dataUrl",r))()}}]);